<!DOCTYPE html>
<html>
    <head>
	    <meta charset="utf-8"  />
	    <title>Provenance in data-analysis workflows (DAWs)</title>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.0/reset.min.css"
            integrity="sha512-Mjxkx+r7O/OLQeKeIBCQ2yspG1P5muhAtv/J+p2/aPnSenciZWm5Wlnt+NOUNA4SHbnBIE/R2ic0ZBiCXdQNUg=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.0/reveal.min.css"
            integrity="sha512-e3dnmFe5hH2bJx1MvUU3PFToGVQ2xykp/VGERCkuh4lTGMJ5QuxKFRIwix8DfnfkavwJiL6rehb9e1d6mFLwlg=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.0/theme/black.min.css"
            integrity="sha512-DKeDMgkMDBNgY3g8T6H6Ft5cB7St0LOh5d69BvETIcTrP0E3d3KhANTMs5QOTMnenXy6JVKz/tENmffCLeXPiQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer" />
        <style>
         h1, h2, h3, h4, h5, h6 {
             text-transform:none !important;
         }
        </style>
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section>
                    <h1>Provenance in data-analysis workflows (DAWs)</h1>
                </section>
                <section>
                    <h2>Expectation</h2>
                    <img
                        src="https://www.researchgate.net/profile/Erik-Bongcam-Rudloff/publication/281081296/figure/fig2/AS:271566676164623@1441757949117/Example-of-a-Galaxy-Workflow-used-at-CRS4-to-generates-demultiplexed-fastq-files.png"
                        alt="Galaxy workflow"
                        style="height: 300px;"
                    />
                    <img
                        src="https://www.researchgate.net/publication/362232517/figure/fig4/AS:1183227834302477@1659114907915/Snakemake-workflow-management-system-All-the-input-and-output-files-in-blue-colour-are.jpg"
                        alt="Snakemake workflow"
                        style="height: 200px;"
                        class="fragment"
                    />
                </section>
                <section>
                    <h2>Reality</h2>
                    <figure>
                    <img src="./rube-goldberg-software.png" />
                    <figcaption>(MacGyver et al.)</figcaption>
                    </figure>
                </section>
                <section>
                    <h2>Challenges</h2>
                    <p>How is this output file generated?</p>
                    <p>What output files depend on this script?</p>
                    <p>How to rerun?</p>
                </section>
                <section>
                    <h2>Traditional approach</h2>
                    <p>Human effort, careful reading</p>
                    <img src="https://i.imgflip.com/abkf13.jpg" class="fragment">
                </section>
                <section>
                    <h2>Tracing approach</h2>
                    <p>Operating system (OS) already knows what the code does.</p>
                    <p class="fragment">OS should keep track of how each file gets generated (<i>computational provenance</i>).</p>
                </section>
                <section>
                    <h2>PRovenance Observation/REplay (PROBE)</h2>
                    <p><code>./script.sh --blue 42</code></p>
                    <p class="fragment"><code>probe record ./script.sh --blue 42</code></p>
                </section>
                <section>
                    <h2>What do you get?</h2>
                </section>
                <section>
                    <h2>What do you get (part 2)?</h2>
                </section>
                <section>
                    <h2>Caveats</h2>
                    <ul>
                        <li>Not "stitching together" multiple commands.</li>
                        <li>Not able to capture user input.</li>
                        <li>Doesn't see "through" shell script redirection or pipes.</li>
                        <li>Only file accesses so far. Plans for network, time-of-day and others.</li>
                        <li>No network accesses, so Jupyter notebook/server interactions are not recorded yet.</li>
                    </ul>
                </section>
                <section>
                    <h2>Looking for collaborators</h2>
                    <p>Want real-world examples</p>
                    <p>Will ensure PROBE works for your application, within reason</p>
                </section>
                <section>
                    <div
                        class="qrcode-link"
                        data-caption="PROBE"
                        data-encoded="https://github.com/charmoniumQ/PROBE"
                    >
                    </div>
                </section>
            </div>
        </div>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.2.1/reveal.js"
            integrity="sha512-GvouLVZT+gJSJW5eOfpG46xTaBb2c3VeNnbzmDYTRQkFlgvxNhnzZQqiQ/jAyAYPh+a9roBvAHJP6zvXIVq34Q=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>
        <script type="text/javascript">
         /*<![CDATA[*/
         Reveal.initialize({
             "hash": true,
             "slideNumber": "c/t",
             "transition": "none",
         });
         /*]]*/
        </script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"
            integrity="sha512-CNgIRecGo7nphbeZ04Sc13ka07paqdeTu0WR1IM4kNcpmBAUSHSQX0FslNhTDadL4O5SAGapGt4FodqL8My0mA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>
        <script type="text/javascript">
         /*<![CDATA[*/
         Array.from(
             document.getElementsByClassName("qrcode-link")
         ).forEach((container) => {
             const a = document.createElement("a");
             const figure = document.createElement("figure");
             const figCaption = document.createElement("figcaption");

             container.appendChild(a);
             a.appendChild(figure);
             figure.appendChild(figCaption);

             a.href = container.dataset.encoded;
             figCaption.textContent = container.dataset.caption;
             new QRCode(figure, {
	             text: container.dataset.encoded,
             });
         });
         /*]]*/
        </script>
    </body>
</html>
