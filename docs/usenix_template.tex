% https://www.usenix.org/sites/default/files/usenix2019_v3.1.tex

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Template for USENIX papers.
%
% History:
%
% - TEMPLATE for Usenix papers, specifically to meet requirements of
%   USENIX '05. originally a template for producing IEEE-format
%   articles using LaTeX. written by Matthew Ward, CS Department,
%   Worcester Polytechnic Institute. adapted by David Beazley for his
%   excellent SWIG paper in Proceedings, Tcl 96. turned into a
%   smartass generic template by De Clarke, with thanks to both the
%   above pioneers. Use at your own risk. Complaints to /dev/null.
%   Make it two column with no page numbering, default is 10 point.
%
% - Munged by Fred Douglis <douglis@research.att.com> 10/97 to
%   separate the .sty file from the LaTeX source template, so that
%   people can more easily include the .sty file into an existing
%   document. Also changed to more closely follow the style guidelines
%   as represented by the Word sample file.
%
% - Note that since 2010, USENIX does not require endnotes. If you
%   want foot of page notes, don't include the endnotes package in the
%   usepackage command, below.
% - This version uses the latex2e styles, not the very ancient 2.09
%   stuff.
%
% - Updated July 2018: Text block size changed from 6.5" to 7"
%
% - Updated Dec 2018 for ATC'19:
%
%   * Revised text to pass HotCRP's auto-formatting check, with
%     hotcrp.settings.submission_form.body_font_size=10pt, and
%     hotcrp.settings.submission_form.line_height=12pt
%
%   * Switched from \endnote-s to \footnote-s to match Usenix's policy.
%
%   * \section* => \begin{abstract} ... \end{abstract}
%
%   * Make template self-contained in terms of bibtex entires, to allow
%     this file to be compiled. (And changing refs style to 'plain'.)
%
%   * Make template self-contained in terms of figures, to
%     allow this file to be compiled.
%
%   * Added packages for hyperref, embedding fonts, and improving
%     appearance.
%
%   * Removed outdated text.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[letterpaper,twocolumn,10pt]{article}

% See https://github.com/jgm/pandoc/blob/main/data/templates/default.latex

\usepackage{amsmath}
$if(linestretch)$
\usepackage{setspace}
$endif$

\usepackage{calc}
\usepackage{printlen}

\usepackage[$if(fontenc)$$fontenc$$else$T1$endif$]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{textcomp} % provide euro and other symbols
% \usepackage{lmodern}

\usepackage{hyperref}
\usepackage{cleveref}

$if(verbatim-in-note)$
\usepackage{fancyvrb}
$endif$
\usepackage{xcolor}
\definecolor{myred}{RGB}{200,0,0}
\definecolor{mygreen}{RGB}{0,100,0}
\usepackage{physics}

$if(listings)$
\usepackage{listings}
$endif$

$if(highlighting-macros)$
$highlighting-macros$
$endif$

$if(verbatim-in-note)$
\usepackage{fancyvrb}
$endif$

\usepackage{soul}

\usepackage{microtype}
% \usepackage{bibcop}
\RequirePackage[l2tabu, orthodox]{nag}

\usepackage{longtable,booktabs,array}
% Correct order of tables after paragraph or subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\usepackage{footnotehyper}
\makesavenoteenv{longtable}

% https://github.com/jgm/pandoc/issues/1023

% \makeatletter
% \let\oldlt\longtable
% \let\endoldlt\endlongtable
% \def\longtable{\@ifnextchar[\longtable@i \longtable@ii}
% \def\longtable@i[#1]{\begin{figure}[t]
% \onecolumn
% \begin{minipage}{0.5\textwidth}
% \oldlt[#1]
% }
% \def\longtable@ii{\begin{figure}[t]
% \onecolumn
% \begin{minipage}{0.5\textwidth}
% \oldlt
% }
% \def\endlongtable{\endoldlt
% \end{minipage}
% \twocolumn
% \end{figure}}
% \makeatother

% % switch into and out-of twocolumn mode when creating tables
% \makeatletter
% % copy the definition of longtable into oldlongtable:
% \let\oldlongtable\longtable
% % copy the definition of endlongtable into oldendlongtable:
% \let\oldendlongtable\endlongtable
% % if longtable is followed by '[', use the option-having version, else use the non-option-having version:
% \def\longtable{\@ifnextchar[\longtable@i \longtable@ii}
% % option-having beginning:
% \def\longtable@i[#1]{\onecolumn \oldlongtable[#1]}
% % non-option-having beginning:
% \def\longtable@ii{\onecolumn \oldlongtable}
% % redefine the ending of longtable:
% \def\endlongtable{\oldendlongtable \twocolumn}
% \makeatother

%\usepackage{subcaption}

\usepackage{supertabular}
\newcommand\tcap{}
\renewenvironment{longtable}{\begin{center}\bottomcaption{\tcap}\begin{supertabular}}{\end{supertabular}\end{center}}
\renewcommand{\endhead}{}
\renewcommand{\endlastfoot}{}

$if(graphics)$
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
$endif$

$if(svg)$
\usepackage{svg}
$endif$

$if(strikeout)$
\usepackage[normalem]{ulem}
% avoid problems with \sout in headers with hyperref:
\pdfstringdefDisableCommands{\renewcommand{\sout}{}}
$endif$

$if(csquotes)$
\usepackage{csquotes}
$endif$

%\setlength{\emergencystretch}{3em} % prevent overfull lines
%\providecommand{\tightlist}{\setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\providecommand{\tightlist}{}
\usepackage{enumitem}
\setlist{topsep=0pt, leftmargin=*}
\setitemize{noitemsep,topsep=0pt,parsep=0pt,partopsep=0pt}

\usepackage{bookmark}
\usepackage{xurl}

$for(header-includes)$
$header-includes$
$endfor$

\usepackage[dvipsnames,table]{xcolor}
\usepackage{usenix}


\newcommand{\bibliofont}{\footnotesize}
\microtypecontext{spacing=nonfrench}

\RequirePackage[
  datamodel=acmdatamodel,
  style=acmnumeric, % use style=acmauthoryear for publications that require it
]{biblatex}
$for(bibliography)$
\addbibresource{$bibliography$}
$endfor$

%don't want date printed
\date{}

% make title bold and 14 pt font (Latex default is non-bold, 16 pt)
\title{\Large \textbf{$title$}}

$if(anonymous)$
\author{(Anonymous)}
$else$
\author{
$for(author)$
{\textrm{$author.name$}}\\
$if(author.affiliation)$$author.affiliation.institution$$endif$$sep$
\and
$endfor$
}
$endif$

\begin{document}

\maketitle

\begin{abstract}
$abstract$
\end{abstract}

$if(abstract_only)$
$else$

$body$

$endif$

\end{document}
